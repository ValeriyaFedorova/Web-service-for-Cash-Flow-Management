<div class="card mb-4">
    <div class="card-header">
        <h5 class="card-title mb-0">
            <i class="bi bi-funnel"></i> Фильтры
            {% if filter_applied %}
            <span class="badge bg-warning ms-2">Активны</span>
            {% endif %}
        </h5>
    </div>
    <div class="card-body">
        <form method="get" class="row g-3">
            <div class="col-md-2">
                <label for="date_from" class="form-label">Дата с</label>
                <input type="date" id="date_from" name="date_from" 
                       class="form-control" value="{{ filter_params.date_from }}">
            </div>
            <div class="col-md-2">
                <label for="date_to" class="form-label">Дата по</label>
                <input type="date" id="date_to" name="date_to" 
                       class="form-control" value="{{ filter_params.date_to }}">
            </div>
            <div class="col-md-2">
                <label for="status" class="form-label">Статус</label>
                <select id="status" name="status" class="form-select">
                    <option value="">Все статусы</option>
                    {% for status in statuses %}
                    <option value="{{ status.id }}" 
                        {% if filter_params.status == status.id|stringformat:"i" %}selected{% endif %}>
                        {{ status.name }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label for="type" class="form-label">Тип</label>
                <select id="type" name="type" class="form-select">
                    <option value="">Все типы</option>
                    {% for type in types %}
                    <option value="{{ type.id }}" 
                        {% if filter_params.type == type.id|stringformat:"i" %}selected{% endif %}>
                        {{ type.name }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label for="category" class="form-label">Категория</label>
                <select id="category" name="category" class="form-select">
                    <option value="">Все категории</option>
                    {% for category in categories %}
                    <option value="{{ category.id }}" 
                        {% if filter_params.category == category.id|stringformat:"i" %}selected{% endif %}>
                        {{ category.name }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-2">
                <label class="form-label d-block">&nbsp;</label>
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-funnel"></i> Применить
                </button>
                <a href="{% url 'transaction_list' %}" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-clockwise"></i> Сбросить
                </a>
            </div>
        </form>
    </div>
</div>